<div>
  <div class="row my-5">
    <a href="/records/new" class="btn btn-outline-primary col-sm-2">新增紀錄</a>
    <div class="col-sm-8 text-center">總金額：
      <span class="text-warning h2">{{{totalAmount}}}</span>
    </div>
    <div class="col-sm-2 justify-content-end" style="display: flex">
      <div class="btn-group">
        <button type="button" class="btn btn-outline-secondary dropdown-toggle" data-toggle="dropdown">類型</button>
        <div class="dropdown-menu dropdown-menu-right">
          <a class="dropdown-item" href="/">全部</a>
          <a class="dropdown-item" href="/search?sortKey=home">家居物業</a>
          <a class="dropdown-item" href="/search?sortKey=shuttle-van">交通出行</a>
          <a class="dropdown-item" href="/search?sortKey=grin-beam">休閒娛樂</a>
          <a class="dropdown-item" href="/search?sortKey=utensils">餐飲食品</a>
          <a class="dropdown-item" href="/search?sortKey=pen">其他</a>
        </div>
      </div>
    </div>
  </div>
</div>

<table class="table table-striped table-hover">
  <tbody>
    {{#each records}}
    <tr>
      <td style="width:5%">
        <i class="fas fa-{{{this.category}}} h1 text-primary text-center py-1"></i>
      </td>
      <td style="width:50%">
        <div class="d-inline-block text-left">
          <h4>{{{this.name}}}</h4>
          <small>{{{this.date}}}</small>
        </div>
      </td>
      <td style="vertical-align:middle;">
        <div>
          <h4 class="align-items-center">{{{this.amount}}}</h4>
      </td>
      <td class="text-right" style="vertical-align:middle;">
        <a href="/records/{{{this.id}}}/edit" class="btn btn-outline-success">修改</a>
        <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#delete-{{this.id}}">
          刪除
        </button>
      </td>
    </tr>
    <div class="modal fade" id="delete-{{this.id}}" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteModalLabel">刪除確認視窗</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            請問是否要刪除這筆紀錄
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">取消</button>
            <form action="/records/{{this.id}}/delete?_method=DELETE" method="POST" style="display: inline;">
              <button type="submit" class="btn btn-outline-danger">刪除</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {{/each}}
  </tbody>
</table>